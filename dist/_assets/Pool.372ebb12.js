import{c as e}from"./config.37008b9b.js";import{V as t}from"./vue3-apexcharts.common.7373c24d.js";import{c as s,b as a,t as o,e as i,r as l,o as n}from"./index.b6f50067.js";var r={name:"Pool",components:{apexchart:t},data:()=>({name:"",liquidity:0,volume_24h_quote:0,fees_24h_quote:0,annual_fees:0,reserve:[],token_one:{},token_two:{},loading:!0,liquidityOptions:{series:[{name:"Liquidity",data:[]}],chart:{type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},yaxis:[{seriesName:"Liquidity",labels:{style:{colors:"#A1A5AB"},formatter:function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}}],xaxis:{labels:{formatter:function(e){if(void 0!==e){let t=new Date(e).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});return t.split(" ")[1].replace(",","")%2==1?t:""}return""},style:{colors:"#A1A5AB"}}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},colors:["#076BD9"],legend:{labels:{colors:"#A1A5AB"}},responsive:[{breakpoint:450,options:{yaxis:[{show:!1},{show:!1}]}}]},volumeOptions:{series:[{name:"Volume",data:[]}],chart:{type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},yaxis:[{seriesName:"Volume",labels:{style:{colors:"#A1A5AB"},formatter:function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}}],xaxis:{labels:{formatter:function(e){if(void 0!==e){let t=new Date(e).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});return t.split(" ")[1].replace(",","")%2==1?t:""}return""},style:{colors:"#A1A5AB"}}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},colors:["#34d399"],legend:{labels:{colors:"#A1A5AB"}},responsive:[{breakpoint:450,options:{yaxis:[{show:!1},{show:!1}]}}]}}),props:{chainId:{type:Number,default:1},API_KEY:{type:String}},methods:{getPool(t){fetch(`https://api.covalenthq.com/v1/${this.chainId}/xy=k/diffusion/pools/address/${t}/?key=${this.API_KEY}`,e).then((e=>e.json())).then((e=>{console.log(e.data.items[0]),this.name=e.data.items[0].token_0.contract_ticker_symbol+"-"+e.data.items[0].token_1.contract_ticker_symbol,this.liquidity=e.data.items[0].total_liquidity_quote.toLocaleString("en-US",{style:"currency",currency:"USD"}),this.volume_24h_quote=e.data.items[0].volume_24h_quote.toLocaleString("en-US",{style:"currency",currency:"USD"}),this.fees_24h_quote=e.data.items[0].fee_24h_quote.toLocaleString("en-US",{style:"currency",currency:"USD"}),this.annual_fees=e.data.items[0].annualized_fee,this.token_one={name:e.data.items[0].token_0.contract_name,price:e.data.items[0].token_0.quote_rate},this.token_two={name:e.data.items[0].token_1.contract_name,price:e.data.items[0].token_1.quote_rate},e.data.items[0].liquidity_timeseries_30d.forEach((e=>{this.liquidityOptions.series[0].data.push([Date.parse(e.dt),e.liquidity_quote])})),e.data.items[0].volume_timeseries_30d.forEach((e=>{this.volumeOptions.series[0].data.push([Date.parse(e.dt),e.volume_quote])})),this.loading=!1}))}},mounted(){this.getPool(this.$route.params.address)}};const c={class:"w-11/12 m-auto"},d={class:"w-11/12 text-3xl text-main font-semibold text-green-600 py-4"},m={key:0,class:"w-full grid place-items-center",style:{height:"165px"}},u=[a("div",{class:"spinner"},null,-1)],f={key:1},p={class:"bg-white border-2 rounded-2xl p-6 md:mt-6 w-full h-full py-6"},h={class:"font-semibold text-xl ml-2"},x={class:"flex flex-col md:flex-row justify-around flex-wrap mt-4"},y={class:"text-center flex flex-col text-xl mb-8"},_={class:"font-semibold"},b=a("span",{class:"font-light"},"Total Liquidity",-1),v={class:"text-center flex flex-col text-xl mb-8"},g={class:"font-semibold"},w=a("span",{class:"font-light"},"Volume (24h)",-1),q={class:"text-center flex flex-col text-xl mb-8"},k={class:"font-semibold"},A=a("span",{class:"font-light"},"Fees (24h)",-1),S={class:"text-center flex flex-col text-xl mb-8"},D={class:"font-semibold"},L=a("span",{class:"font-light"},"Annualized fees",-1),U={class:"text-center flex flex-col text-xl mb-8"},j={class:"font-semibold"},O={class:"font-light"},P={class:"text-center flex flex-col text-xl"},B={class:"font-semibold"},$={class:"font-light"},E={class:"w-full flex flex-col md:flex-row justify-between mt-12"},F={class:"w-full md:w-5/12 flex flex-col justify-center bg-white border-2 rounded-2xl p-6"},I={class:"w-full md:w-5/12 flex flex-col justify-center bg-white border-2 rounded-2xl p-6 mt-12 md:mt-0"};r.render=function(e,t,r,V,N,z){const G=l("apexchart");return n(),s("div",c,[a("p",d,o(N.name?N.name:"Pools"),1),N.loading?(n(),s("div",m,u)):(n(),s("div",f,[a("main",p,[a("p",h,o(N.name),1),a("section",x,[a("div",y,[a("span",_,o(N.liquidity),1),b]),a("div",v,[a("span",g,o(N.volume_24h_quote),1),w]),a("div",q,[a("span",k,o(N.fees_24h_quote),1),A]),a("div",S,[a("span",D,o((10*N.annual_fees).toFixed(4))+"% ",1),L]),a("div",U,[a("span",j," $"+o(N.token_one.price.toFixed(2)),1),a("span",O,o(N.token_one.name)+" Price",1)]),a("div",P,[a("span",B," $"+o(N.token_two.price.toFixed(2)),1),a("span",$,o(N.token_two.name)+" Price",1)])])]),a("div",E,[a("div",F,[i(G,{type:"area",height:"500",width:"100%",options:N.liquidityOptions,series:N.liquidityOptions.series},null,8,["options","series"])]),a("div",I,[i(G,{type:"area",height:"500",width:"100%",options:N.volumeOptions,series:N.volumeOptions.series},null,8,["options","series"])])])]))])};export{r as default};
